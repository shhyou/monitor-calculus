<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SpaceEfficient.Size</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Annotation.Language.html" class="Module">Annotation.Language</a>

<a id="70" class="Keyword">module</a> <a id="77" href="SpaceEfficient.Size.html" class="Module">SpaceEfficient.Size</a> <a id="97" class="Symbol">(</a><a id="98" href="SpaceEfficient.Size.html#98" class="Bound">Label</a> <a id="104" class="Symbol">:</a> <a id="106" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="109" class="Symbol">)</a> <a id="111" class="Symbol">(</a><a id="112" href="SpaceEfficient.Size.html#112" class="Bound">𝒜</a> <a id="114" class="Symbol">:</a> <a id="116" href="Annotation.Language.html#838" class="Record">AnnTerm</a><a id="123" class="Symbol">)</a> <a id="125" class="Keyword">where</a>

<a id="132" class="Keyword">open</a> <a id="137" class="Keyword">import</a> <a id="144" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="182" class="Symbol">as</a> <a id="185" class="Module">PropEq</a>
  <a id="194" class="Keyword">using</a> <a id="200" class="Symbol">(</a><a id="201" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="204" class="Symbol">;</a> <a id="206" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="210" class="Symbol">)</a>

<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="240" class="Symbol">as</a> <a id="243" class="Module">Unit</a> <a id="248" class="Keyword">using</a> <a id="254" class="Symbol">(</a><a id="255" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="256" class="Symbol">;</a> <a id="258" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="260" class="Symbol">)</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="288" class="Symbol">as</a> <a id="291" class="Module">Nat</a> <a id="295" class="Keyword">using</a> <a id="301" class="Symbol">(</a><a id="302" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="303" class="Symbol">;</a> <a id="305" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="309" class="Symbol">;</a> <a id="311" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="314" class="Symbol">;</a> <a id="316" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="319" class="Symbol">;</a> <a id="321" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="324" class="Symbol">;</a> <a id="326" href="Data.Nat.Base.html#6567" class="Function Operator">_^_</a><a id="329" class="Symbol">;</a> <a id="331" href="Data.Nat.Base.html#1697" class="Datatype Operator">_≤_</a><a id="334" class="Symbol">;</a> <a id="336" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a><a id="339" class="Symbol">;</a> <a id="341" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a><a id="344" class="Symbol">;</a> <a id="346" href="Data.Nat.Base.html#5485" class="Function Operator">_⊔_</a><a id="349" class="Symbol">)</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Data.Product.html" class="Module">Data.Product</a> <a id="376" class="Symbol">as</a> <a id="379" class="Module">Product</a>
  <a id="389" class="Keyword">using</a> <a id="395" class="Symbol">(</a><a id="396" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="397" class="Symbol">;</a> <a id="399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="402" class="Symbol">;</a> <a id="404" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="409" class="Symbol">;</a> <a id="411" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="416" class="Symbol">;</a> <a id="418" href="Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="426" class="Symbol">;</a> <a id="428" href="Data.Product.Base.html#852" class="Function">∃</a><a id="429" class="Symbol">;</a> <a id="431" href="Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="439" class="Symbol">;</a> <a id="441" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="444" class="Symbol">;</a> <a id="446" href="Data.Product.Base.html#1686" class="Function Operator">_,′_</a><a id="450" class="Symbol">;</a> <a id="452" href="Data.Product.Base.html#907" class="Function">∃₂</a><a id="454" class="Symbol">)</a>

<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="484" class="Symbol">as</a> <a id="487" class="Module">List</a> <a id="492" class="Keyword">using</a> <a id="498" class="Symbol">(</a><a id="499" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="503" class="Symbol">;</a> <a id="505" href="Data.List.Base.html#7301" class="InductiveConstructor">[]</a><a id="507" class="Symbol">;</a> <a id="509" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="512" class="Symbol">;</a> <a id="514" href="Data.List.Base.html#4746" class="Function">length</a><a id="520" class="Symbol">;</a> <a id="522" href="Data.List.Base.html#1612" class="Function">map</a><a id="525" class="Symbol">)</a>

<a id="528" class="Keyword">open</a> <a id="533" class="Keyword">import</a> <a id="540" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="569" class="Symbol">as</a> <a id="572" class="Module">ListAny</a> <a id="580" class="Keyword">using</a> <a id="586" class="Symbol">(</a><a id="587" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="590" class="Symbol">;</a> <a id="592" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a><a id="596" class="Symbol">;</a> <a id="598" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a><a id="602" class="Symbol">;</a> <a id="604" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a><a id="609" class="Symbol">)</a>
<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Data.List.Membership.Propositional.html" class="Module">Data.List.Membership.Propositional</a> <a id="658" class="Keyword">using</a> <a id="664" class="Symbol">(</a><a id="665" href="Data.List.Membership.Setoid.html#925" class="Function Operator">_∈_</a><a id="668" class="Symbol">)</a>

<a id="671" class="Keyword">open</a> <a id="676" class="Keyword">import</a> <a id="683" href="Syntax.Type.html" class="Module">Syntax.Type</a>
<a id="695" class="Keyword">open</a> <a id="700" class="Keyword">import</a> <a id="707" href="Syntax.Term.html" class="Module">Syntax.Term</a>

<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Contract.Common.html" class="Module">Contract.Common</a> <a id="748" href="SpaceEfficient.Size.html#98" class="Bound">Label</a>
<a id="754" class="Keyword">open</a> <a id="759" class="Keyword">import</a> <a id="766" href="Contract.Base.html" class="Module">Contract.Base</a> <a id="780" href="SpaceEfficient.Size.html#98" class="Bound">Label</a> <a id="786" href="SpaceEfficient.Size.html#112" class="Bound">𝒜</a>  <a id="789" class="Keyword">using</a> <a id="795" class="Symbol">(</a><a id="796" href="Contract.Base.html#1139" class="Datatype">SCtc1N</a><a id="802" class="Symbol">;</a> <a id="804" href="Contract.Base.html#4869" class="Function">SCtc1</a><a id="809" class="Symbol">;</a> <a id="811" href="Contract.Base.html#1244" class="InductiveConstructor">flat</a><a id="815" class="Symbol">)</a>
<a id="817" class="Keyword">open</a> <a id="822" class="Keyword">import</a> <a id="829" href="SpaceEfficient.Base.html" class="Module">SpaceEfficient.Base</a> <a id="849" href="SpaceEfficient.Size.html#98" class="Bound">Label</a> <a id="855" href="SpaceEfficient.Size.html#112" class="Bound">𝒜</a>

<a id="858" class="Keyword">open</a> <a id="863" href="Annotation.Language.html#838" class="Module">AnnTerm</a> <a id="871" href="SpaceEfficient.Size.html#112" class="Bound">𝒜</a> <a id="873" class="Keyword">using</a> <a id="879" class="Symbol">(</a><a id="880" href="Annotation.Language.html#987" class="Field">Ann</a><a id="883" class="Symbol">;</a> <a id="885" href="Annotation.Language.html#1003" class="Field">State</a><a id="890" class="Symbol">)</a>

<a id="893" class="Keyword">private</a> <a id="901" class="Keyword">variable</a>
  <a id="912" href="SpaceEfficient.Size.html#912" class="Generalizable">Δ</a> <a id="914" class="Symbol">:</a> <a id="916" href="Syntax.Type.html#384" class="Function">TCtxt</a>
  <a id="924" href="SpaceEfficient.Size.html#924" class="Generalizable">Γ</a> <a id="926" class="Symbol">:</a> <a id="928" href="Syntax.Type.html#2194" class="Function">Ctxt</a>
  <a id="935" href="SpaceEfficient.Size.html#935" class="Generalizable">τ</a> <a id="937" href="SpaceEfficient.Size.html#937" class="Generalizable">τ′</a> <a id="940" href="SpaceEfficient.Size.html#940" class="Generalizable">τ₁</a> <a id="943" href="SpaceEfficient.Size.html#943" class="Generalizable">τ₂</a> <a id="946" href="SpaceEfficient.Size.html#946" class="Generalizable">τₐ</a> <a id="949" href="SpaceEfficient.Size.html#949" class="Generalizable">τᵣ</a> <a id="952" class="Symbol">:</a> <a id="954" href="Syntax.Type.html#737" class="Datatype">TyN</a> <a id="958" href="SpaceEfficient.Size.html#912" class="Generalizable">Δ</a>

<a id="sectc-size"></a><a id="961" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="972" class="Symbol">:</a> <a id="974" class="Symbol">∀</a> <a id="976" class="Symbol">{</a><a id="977" href="SpaceEfficient.Size.html#977" class="Bound">Δ</a> <a id="979" href="SpaceEfficient.Size.html#979" class="Bound">τ</a><a id="980" class="Symbol">}</a> <a id="982" class="Symbol">→</a> <a id="984" href="SpaceEfficient.Base.html#1423" class="Datatype">SECtcN</a> <a id="991" href="SpaceEfficient.Size.html#977" class="Bound">Δ</a> <a id="993" href="SpaceEfficient.Size.html#979" class="Bound">τ</a> <a id="995" class="Symbol">→</a> <a id="997" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="999" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1010" class="Symbol">(</a><a id="1011" href="SpaceEfficient.Base.html#1466" class="InductiveConstructor Operator">`</a> <a id="1013" href="SpaceEfficient.Size.html#1013" class="Bound">a</a><a id="1014" class="Symbol">)</a>           <a id="1026" class="Symbol">=</a> <a id="1028" class="Number">1</a>
<a id="1030" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1041" href="SpaceEfficient.Base.html#1508" class="InductiveConstructor">1/cc</a>            <a id="1057" class="Symbol">=</a> <a id="1059" class="Number">1</a>
<a id="1061" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1072" class="Symbol">(</a><a id="1073" href="SpaceEfficient.Base.html#1532" class="InductiveConstructor">flat/cc</a> <a id="1081" href="SpaceEfficient.Size.html#1081" class="Bound">preds</a><a id="1086" class="Symbol">)</a> <a id="1088" class="Symbol">=</a> <a id="1090" href="Data.List.Base.html#4746" class="Function">length</a> <a id="1097" href="SpaceEfficient.Size.html#1081" class="Bound">preds</a>
<a id="1103" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1114" class="Symbol">(</a><a id="1115" href="SpaceEfficient.Size.html#1115" class="Bound">cκ₁</a> <a id="1119" href="SpaceEfficient.Base.html#1587" class="InductiveConstructor Operator">*/cc</a> <a id="1124" href="SpaceEfficient.Size.html#1124" class="Bound">cκ₂</a><a id="1127" class="Symbol">)</a>  <a id="1130" class="Symbol">=</a> <a id="1132" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1136" class="Symbol">(</a><a id="1137" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1148" href="SpaceEfficient.Size.html#1115" class="Bound">cκ₁</a> <a id="1152" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1154" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1165" href="SpaceEfficient.Size.html#1124" class="Bound">cκ₂</a><a id="1168" class="Symbol">)</a>
<a id="1170" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1181" class="Symbol">(</a><a id="1182" href="SpaceEfficient.Size.html#1182" class="Bound">cκ₁</a> <a id="1186" href="SpaceEfficient.Base.html#1647" class="InductiveConstructor Operator">+/cc</a> <a id="1191" href="SpaceEfficient.Size.html#1191" class="Bound">cκ₂</a><a id="1194" class="Symbol">)</a>  <a id="1197" class="Symbol">=</a> <a id="1199" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1203" class="Symbol">(</a><a id="1204" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1215" href="SpaceEfficient.Size.html#1182" class="Bound">cκ₁</a> <a id="1219" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1221" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1232" href="SpaceEfficient.Size.html#1191" class="Bound">cκ₂</a><a id="1235" class="Symbol">)</a>
<a id="1237" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1248" class="Symbol">(</a><a id="1249" href="SpaceEfficient.Base.html#1707" class="InductiveConstructor">box/cc</a> <a id="1256" href="SpaceEfficient.Size.html#1256" class="Bound">cκ</a><a id="1258" class="Symbol">)</a>     <a id="1264" class="Symbol">=</a> <a id="1266" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1270" class="Symbol">(</a><a id="1271" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1282" href="SpaceEfficient.Size.html#1256" class="Bound">cκ</a><a id="1284" class="Symbol">)</a>
<a id="1286" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1297" class="Symbol">(</a><a id="1298" href="SpaceEfficient.Size.html#1298" class="Bound">cκₐ</a> <a id="1302" href="SpaceEfficient.Base.html#1749" class="InductiveConstructor Operator">→/cc</a> <a id="1307" href="SpaceEfficient.Size.html#1307" class="Bound">cκᵣ</a><a id="1310" class="Symbol">)</a>  <a id="1313" class="Symbol">=</a> <a id="1315" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1319" class="Symbol">(</a><a id="1320" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1331" href="SpaceEfficient.Size.html#1298" class="Bound">cκₐ</a> <a id="1335" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1337" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1348" href="SpaceEfficient.Size.html#1307" class="Bound">cκᵣ</a><a id="1351" class="Symbol">)</a>
<a id="1353" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1364" class="Symbol">(</a><a id="1365" href="SpaceEfficient.Base.html#1809" class="InductiveConstructor Operator">μ/cc</a> <a id="1370" href="SpaceEfficient.Size.html#1370" class="Bound">cκ</a><a id="1372" class="Symbol">)</a>       <a id="1380" class="Symbol">=</a> <a id="1382" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1386" class="Symbol">(</a><a id="1387" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1398" href="SpaceEfficient.Size.html#1370" class="Bound">cκ</a><a id="1400" class="Symbol">)</a>

<a id="leaf-size"></a><a id="1403" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1413" class="Symbol">:</a> <a id="1415" class="Symbol">∀</a> <a id="1417" class="Symbol">{</a><a id="1418" href="SpaceEfficient.Size.html#1418" class="Bound">Δ</a> <a id="1420" href="SpaceEfficient.Size.html#1420" class="Bound">τ</a><a id="1421" class="Symbol">}</a> <a id="1423" class="Symbol">→</a> <a id="1425" href="SpaceEfficient.Base.html#1423" class="Datatype">SECtcN</a> <a id="1432" href="SpaceEfficient.Size.html#1418" class="Bound">Δ</a> <a id="1434" href="SpaceEfficient.Size.html#1420" class="Bound">τ</a> <a id="1436" class="Symbol">→</a> <a id="1438" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1440" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1450" class="Symbol">(</a><a id="1451" href="SpaceEfficient.Base.html#1466" class="InductiveConstructor Operator">`</a> <a id="1453" href="SpaceEfficient.Size.html#1453" class="Bound">a</a><a id="1454" class="Symbol">)</a>           <a id="1466" class="Symbol">=</a> <a id="1468" class="Number">0</a>
<a id="1470" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1480" href="SpaceEfficient.Base.html#1508" class="InductiveConstructor">1/cc</a>            <a id="1496" class="Symbol">=</a> <a id="1498" class="Number">0</a>
<a id="1500" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1510" class="Symbol">(</a><a id="1511" href="SpaceEfficient.Base.html#1532" class="InductiveConstructor">flat/cc</a> <a id="1519" href="SpaceEfficient.Size.html#1519" class="Bound">preds</a><a id="1524" class="Symbol">)</a> <a id="1526" class="Symbol">=</a> <a id="1528" href="Data.List.Base.html#4746" class="Function">length</a> <a id="1535" href="SpaceEfficient.Size.html#1519" class="Bound">preds</a>
<a id="1541" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1551" class="Symbol">(</a><a id="1552" href="SpaceEfficient.Size.html#1552" class="Bound">cκ₁</a> <a id="1556" href="SpaceEfficient.Base.html#1587" class="InductiveConstructor Operator">*/cc</a> <a id="1561" href="SpaceEfficient.Size.html#1561" class="Bound">cκ₂</a><a id="1564" class="Symbol">)</a>  <a id="1567" class="Symbol">=</a> <a id="1569" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1579" href="SpaceEfficient.Size.html#1552" class="Bound">cκ₁</a> <a id="1583" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="1585" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1595" href="SpaceEfficient.Size.html#1561" class="Bound">cκ₂</a>
<a id="1599" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1609" class="Symbol">(</a><a id="1610" href="SpaceEfficient.Size.html#1610" class="Bound">cκ₁</a> <a id="1614" href="SpaceEfficient.Base.html#1647" class="InductiveConstructor Operator">+/cc</a> <a id="1619" href="SpaceEfficient.Size.html#1619" class="Bound">cκ₂</a><a id="1622" class="Symbol">)</a>  <a id="1625" class="Symbol">=</a> <a id="1627" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1637" href="SpaceEfficient.Size.html#1610" class="Bound">cκ₁</a> <a id="1641" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="1643" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1653" href="SpaceEfficient.Size.html#1619" class="Bound">cκ₂</a>
<a id="1657" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1667" class="Symbol">(</a><a id="1668" href="SpaceEfficient.Base.html#1707" class="InductiveConstructor">box/cc</a> <a id="1675" href="SpaceEfficient.Size.html#1675" class="Bound">cκ</a><a id="1677" class="Symbol">)</a>     <a id="1683" class="Symbol">=</a> <a id="1685" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1695" href="SpaceEfficient.Size.html#1675" class="Bound">cκ</a>
<a id="1698" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1708" class="Symbol">(</a><a id="1709" href="SpaceEfficient.Size.html#1709" class="Bound">cκₐ</a> <a id="1713" href="SpaceEfficient.Base.html#1749" class="InductiveConstructor Operator">→/cc</a> <a id="1718" href="SpaceEfficient.Size.html#1718" class="Bound">cκᵣ</a><a id="1721" class="Symbol">)</a>  <a id="1724" class="Symbol">=</a> <a id="1726" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1736" href="SpaceEfficient.Size.html#1709" class="Bound">cκₐ</a> <a id="1740" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="1742" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1752" href="SpaceEfficient.Size.html#1718" class="Bound">cκᵣ</a>
<a id="1756" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1766" class="Symbol">(</a><a id="1767" href="SpaceEfficient.Base.html#1809" class="InductiveConstructor Operator">μ/cc</a> <a id="1772" href="SpaceEfficient.Size.html#1772" class="Bound">cκ</a><a id="1774" class="Symbol">)</a>       <a id="1782" class="Symbol">=</a> <a id="1784" href="SpaceEfficient.Size.html#1403" class="Function">leaf-size</a> <a id="1794" href="SpaceEfficient.Size.html#1772" class="Bound">cκ</a>

<a id="1798" class="Keyword">module</a> <a id="1805" href="SpaceEfficient.Size.html#1805" class="Module">_</a> <a id="1807" class="Symbol">(</a><a id="1808" href="SpaceEfficient.Size.html#1808" class="Bound">𝒜view</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Annotation.Language.html#3630" class="Record">AnnTermView</a> <a id="1828" href="SpaceEfficient.Size.html#112" class="Bound">𝒜</a> <a id="1830" href="SpaceEfficient.Base.html#4263" class="Function">𝒜cctc</a><a id="1835" class="Symbol">)</a> <a id="1837" class="Keyword">where</a>
  <a id="1845" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="1858" class="Symbol">:</a> <a id="1860" href="Annotation.Language.html#987" class="Field">Ann</a> <a id="1864" href="Syntax.Term.html#1009" class="Datatype Operator">∣</a> <a id="1866" href="SpaceEfficient.Size.html#924" class="Generalizable">Γ</a> <a id="1868" href="Syntax.Term.html#1009" class="Datatype Operator">⊢</a> <a id="1870" href="SpaceEfficient.Size.html#935" class="Generalizable">τ</a> <a id="1872" class="Symbol">→</a> <a id="1874" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="1878" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="1891" class="Symbol">(</a><a id="1892" href="Syntax.Term.html#1061" class="InductiveConstructor">proxy</a> <a id="1898" class="Symbol">{</a><a id="1899" class="Argument">e</a> <a id="1901" class="Symbol">=</a> <a id="1903" href="SpaceEfficient.Size.html#1903" class="Bound">e</a><a id="1904" class="Symbol">}</a> <a id="1906" href="SpaceEfficient.Size.html#1906" class="Bound">A</a> <a id="1908" href="SpaceEfficient.Size.html#1908" class="Bound">em</a><a id="1910" class="Symbol">)</a> <a id="1912" class="Symbol">=</a> <a id="1914" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1918" class="Symbol">(</a><a id="1919" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="1930" class="Symbol">(</a><a id="1931" href="Annotation.Language.html#4134" class="Field">AnnTermView.getAnn</a> <a id="1950" href="SpaceEfficient.Size.html#1808" class="Bound">𝒜view</a> <a id="1956" href="SpaceEfficient.Size.html#1906" class="Bound">A</a><a id="1957" class="Symbol">)</a> <a id="1959" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1961" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="1974" href="SpaceEfficient.Size.html#1903" class="Bound">e</a><a id="1975" class="Symbol">)</a>
  <a id="1979" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="1992" class="Symbol">(</a><a id="1993" href="Syntax.Term.html#1231" class="InductiveConstructor Operator">B#</a> <a id="1996" href="SpaceEfficient.Size.html#1996" class="Bound">A</a> <a id="1998" href="Syntax.Term.html#1231" class="InductiveConstructor Operator">⟪</a> <a id="2000" href="SpaceEfficient.Size.html#2000" class="Bound">e</a> <a id="2002" href="Syntax.Term.html#1231" class="InductiveConstructor Operator">⟫</a><a id="2003" class="Symbol">)</a>         <a id="2013" class="Symbol">=</a> <a id="2015" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2019" class="Symbol">(</a><a id="2020" href="SpaceEfficient.Size.html#961" class="Function">sectc-size</a> <a id="2031" class="Symbol">(</a><a id="2032" href="Annotation.Language.html#4134" class="Field">AnnTermView.getAnn</a> <a id="2051" href="SpaceEfficient.Size.html#1808" class="Bound">𝒜view</a> <a id="2057" href="SpaceEfficient.Size.html#1996" class="Bound">A</a><a id="2058" class="Symbol">)</a> <a id="2060" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2062" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2075" href="SpaceEfficient.Size.html#2000" class="Bound">e</a><a id="2076" class="Symbol">)</a>
  <a id="2080" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2093" href="Syntax.Term.html#1346" class="InductiveConstructor">⋆</a>                    <a id="2114" class="Symbol">=</a> <a id="2116" class="Number">1</a>
  <a id="2120" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2133" href="Syntax.Term.html#1370" class="InductiveConstructor">`z</a>                   <a id="2154" class="Symbol">=</a> <a id="2156" class="Number">1</a>
  <a id="2160" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2173" class="Symbol">(</a><a id="2174" href="Syntax.Term.html#1395" class="InductiveConstructor">`s</a> <a id="2177" href="SpaceEfficient.Size.html#2177" class="Bound">e</a><a id="2178" class="Symbol">)</a>               <a id="2194" class="Symbol">=</a> <a id="2196" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2200" class="Symbol">(</a><a id="2201" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2214" href="SpaceEfficient.Size.html#2177" class="Bound">e</a><a id="2215" class="Symbol">)</a>
  <a id="2219" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2232" class="Symbol">(</a><a id="2233" href="Syntax.Term.html#1470" class="InductiveConstructor">foldN</a> <a id="2239" href="SpaceEfficient.Size.html#2239" class="Bound">e</a> <a id="2241" href="SpaceEfficient.Size.html#2241" class="Bound">ez</a> <a id="2244" href="SpaceEfficient.Size.html#2244" class="Bound">es</a><a id="2246" class="Symbol">)</a>      <a id="2253" class="Symbol">=</a> <a id="2255" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2259" class="Symbol">(</a><a id="2260" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2273" href="SpaceEfficient.Size.html#2239" class="Bound">e</a> <a id="2275" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2277" class="Symbol">(</a><a id="2278" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2291" href="SpaceEfficient.Size.html#2241" class="Bound">ez</a> <a id="2294" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2296" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2309" href="SpaceEfficient.Size.html#2244" class="Bound">es</a><a id="2311" class="Symbol">))</a>
  <a id="2316" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2329" class="Symbol">(</a><a id="2330" href="Syntax.Term.html#1630" class="InductiveConstructor">assert</a> <a id="2337" href="SpaceEfficient.Size.html#2337" class="Bound">e</a><a id="2338" class="Symbol">)</a>           <a id="2350" class="Symbol">=</a> <a id="2352" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2356" class="Symbol">(</a><a id="2357" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2370" href="SpaceEfficient.Size.html#2337" class="Bound">e</a><a id="2371" class="Symbol">)</a>
  <a id="2375" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2388" class="Symbol">(</a><a id="2389" href="SpaceEfficient.Size.html#2389" class="Bound">e₁</a> <a id="2392" href="Syntax.Term.html#1717" class="InductiveConstructor Operator">`,</a> <a id="2395" href="SpaceEfficient.Size.html#2395" class="Bound">e₂</a><a id="2397" class="Symbol">)</a>           <a id="2409" class="Symbol">=</a> <a id="2411" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2415" class="Symbol">(</a><a id="2416" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2429" href="SpaceEfficient.Size.html#2389" class="Bound">e₁</a> <a id="2432" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2434" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2447" href="SpaceEfficient.Size.html#2395" class="Bound">e₂</a><a id="2449" class="Symbol">)</a>
  <a id="2453" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2466" class="Symbol">(</a><a id="2467" href="Syntax.Term.html#1842" class="InductiveConstructor">π₁</a> <a id="2470" href="SpaceEfficient.Size.html#2470" class="Bound">e</a><a id="2471" class="Symbol">)</a>               <a id="2487" class="Symbol">=</a> <a id="2489" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2493" class="Symbol">(</a><a id="2494" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2507" href="SpaceEfficient.Size.html#2470" class="Bound">e</a><a id="2508" class="Symbol">)</a>
  <a id="2512" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2525" class="Symbol">(</a><a id="2526" href="Syntax.Term.html#1939" class="InductiveConstructor">π₂</a> <a id="2529" href="SpaceEfficient.Size.html#2529" class="Bound">e</a><a id="2530" class="Symbol">)</a>               <a id="2546" class="Symbol">=</a> <a id="2548" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2552" class="Symbol">(</a><a id="2553" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2566" href="SpaceEfficient.Size.html#2529" class="Bound">e</a><a id="2567" class="Symbol">)</a>
  <a id="2571" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2584" class="Symbol">(</a><a id="2585" href="Syntax.Term.html#2036" class="InductiveConstructor">inl</a> <a id="2589" href="SpaceEfficient.Size.html#2589" class="Bound">e</a><a id="2590" class="Symbol">)</a>              <a id="2605" class="Symbol">=</a> <a id="2607" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2611" class="Symbol">(</a><a id="2612" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2625" href="SpaceEfficient.Size.html#2589" class="Bound">e</a><a id="2626" class="Symbol">)</a>
  <a id="2630" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2643" class="Symbol">(</a><a id="2644" href="Syntax.Term.html#2151" class="InductiveConstructor">inr</a> <a id="2648" href="SpaceEfficient.Size.html#2648" class="Bound">e</a><a id="2649" class="Symbol">)</a>              <a id="2664" class="Symbol">=</a> <a id="2666" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2670" class="Symbol">(</a><a id="2671" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2684" href="SpaceEfficient.Size.html#2648" class="Bound">e</a><a id="2685" class="Symbol">)</a>
  <a id="2689" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2702" class="Symbol">(</a><a id="2703" href="Syntax.Term.html#2266" class="InductiveConstructor Operator">case</a> <a id="2708" href="SpaceEfficient.Size.html#2708" class="Bound">e</a> <a id="2710" href="Syntax.Term.html#2266" class="InductiveConstructor Operator">of</a> <a id="2713" href="SpaceEfficient.Size.html#2713" class="Bound">e₁</a> <a id="2716" href="Syntax.Term.html#2266" class="InductiveConstructor Operator">∣</a> <a id="2718" href="SpaceEfficient.Size.html#2718" class="Bound">e₂</a><a id="2720" class="Symbol">)</a>  <a id="2723" class="Symbol">=</a> <a id="2725" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2729" class="Symbol">(</a><a id="2730" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2743" href="SpaceEfficient.Size.html#2708" class="Bound">e</a> <a id="2745" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2747" class="Symbol">(</a><a id="2748" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2761" href="SpaceEfficient.Size.html#2713" class="Bound">e₁</a> <a id="2764" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2766" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2779" href="SpaceEfficient.Size.html#2718" class="Bound">e₂</a><a id="2781" class="Symbol">))</a>
  <a id="2786" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2799" class="Symbol">(</a><a id="2800" href="Syntax.Term.html#2460" class="InductiveConstructor">box</a> <a id="2804" href="SpaceEfficient.Size.html#2804" class="Bound">e</a><a id="2805" class="Symbol">)</a>              <a id="2820" class="Symbol">=</a> <a id="2822" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2826" class="Symbol">(</a><a id="2827" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2840" href="SpaceEfficient.Size.html#2804" class="Bound">e</a><a id="2841" class="Symbol">)</a>
  <a id="2845" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2858" class="Symbol">(</a><a id="2859" href="Syntax.Term.html#2549" class="InductiveConstructor">unbox</a> <a id="2865" href="SpaceEfficient.Size.html#2865" class="Bound">e</a><a id="2866" class="Symbol">)</a>            <a id="2879" class="Symbol">=</a> <a id="2881" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2885" class="Symbol">(</a><a id="2886" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2899" href="SpaceEfficient.Size.html#2865" class="Bound">e</a><a id="2900" class="Symbol">)</a>
  <a id="2904" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Syntax.Term.html#2638" class="InductiveConstructor Operator">`</a> <a id="2920" href="SpaceEfficient.Size.html#2920" class="Bound">y</a><a id="2921" class="Symbol">)</a>                <a id="2938" class="Symbol">=</a> <a id="2940" class="Number">1</a>
  <a id="2944" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2957" class="Symbol">(</a><a id="2958" href="Syntax.Term.html#2715" class="InductiveConstructor Operator">ƛ</a> <a id="2960" href="SpaceEfficient.Size.html#2960" class="Bound">e</a><a id="2961" class="Symbol">)</a>                <a id="2978" class="Symbol">=</a> <a id="2980" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2984" class="Symbol">(</a><a id="2985" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="2998" href="SpaceEfficient.Size.html#2960" class="Bound">e</a><a id="2999" class="Symbol">)</a>
  <a id="3003" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3016" class="Symbol">(</a><a id="3017" href="SpaceEfficient.Size.html#3017" class="Bound">e</a> <a id="3019" href="Syntax.Term.html#2816" class="InductiveConstructor Operator">·</a> <a id="3021" href="SpaceEfficient.Size.html#3021" class="Bound">eₐ</a><a id="3023" class="Symbol">)</a>             <a id="3037" class="Symbol">=</a> <a id="3039" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3043" class="Symbol">(</a><a id="3044" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3057" href="SpaceEfficient.Size.html#3017" class="Bound">e</a> <a id="3059" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3061" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3074" href="SpaceEfficient.Size.html#3021" class="Bound">eₐ</a><a id="3076" class="Symbol">)</a>
  <a id="3080" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3093" class="Symbol">(</a><a id="3094" href="Syntax.Term.html#2937" class="InductiveConstructor">unroll</a> <a id="3101" href="SpaceEfficient.Size.html#3101" class="Bound">e</a><a id="3102" class="Symbol">)</a>           <a id="3114" class="Symbol">=</a> <a id="3116" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3120" class="Symbol">(</a><a id="3121" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3134" href="SpaceEfficient.Size.html#3101" class="Bound">e</a><a id="3135" class="Symbol">)</a>
  <a id="3139" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3152" class="Symbol">(</a><a id="3153" href="Syntax.Term.html#3073" class="InductiveConstructor">roll</a> <a id="3158" href="SpaceEfficient.Size.html#3158" class="Bound">τ</a> <a id="3160" href="SpaceEfficient.Size.html#3160" class="Bound">e</a><a id="3161" class="Symbol">)</a>           <a id="3173" class="Symbol">=</a> <a id="3175" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3179" class="Symbol">(</a><a id="3180" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3193" href="SpaceEfficient.Size.html#3160" class="Bound">e</a><a id="3194" class="Symbol">)</a>
  <a id="3198" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3211" class="Symbol">(</a><a id="3212" href="Syntax.Term.html#3216" class="InductiveConstructor">fix</a> <a id="3216" href="SpaceEfficient.Size.html#3216" class="Bound">e</a><a id="3217" class="Symbol">)</a>              <a id="3232" class="Symbol">=</a> <a id="3234" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3238" class="Symbol">(</a><a id="3239" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3252" href="SpaceEfficient.Size.html#3216" class="Bound">e</a><a id="3253" class="Symbol">)</a>
  <a id="3257" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3270" class="Symbol">(</a><a id="3271" href="SpaceEfficient.Size.html#3271" class="Bound">e</a> <a id="3273" href="Syntax.Term.html#3303" class="InductiveConstructor Operator">⨟</a> <a id="3275" href="SpaceEfficient.Size.html#3275" class="Bound">e₁</a><a id="3277" class="Symbol">)</a>             <a id="3291" class="Symbol">=</a> <a id="3293" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3297" class="Symbol">(</a><a id="3298" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3311" href="SpaceEfficient.Size.html#3271" class="Bound">e</a> <a id="3313" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3315" href="SpaceEfficient.Size.html#1845" class="Function">program-size</a> <a id="3328" href="SpaceEfficient.Size.html#3275" class="Bound">e₁</a><a id="3330" class="Symbol">)</a>
</pre></body></html>